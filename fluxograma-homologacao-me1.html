<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluxograma - Homologa√ß√£o ME1 Mercado Livre</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.2em;
        }
        
        .section {
            margin-bottom: 60px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }
        
        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .section p {
            color: #555;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .mermaid {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 20px 0;
            overflow-x: auto;
        }
        
        .legend {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        .legend h3 {
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .legend ul {
            list-style: none;
            padding-left: 0;
        }
        
        .legend li {
            padding: 5px 0;
            color: #555;
        }
        
        .legend li:before {
            content: "‚ñ∏ ";
            color: #3498db;
            font-weight: bold;
        }
        
        .info-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .info-box strong {
            color: #856404;
        }
        
        .warning-box {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }
        
        .toc {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 40px;
        }
        
        .toc h3 {
            color: #2980b9;
            margin-bottom: 15px;
        }
        
        .toc ul {
            list-style: none;
            padding-left: 0;
        }
        
        .toc li {
            padding: 8px 0;
        }
        
        .toc a {
            color: #2980b9;
            text-decoration: none;
            font-weight: 500;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Fluxograma - Homologa√ß√£o ME1</h1>
        <p class="subtitle">Guia Visual Completo do Processo de Homologa√ß√£o do Mercado Envios 1</p>
        
        <div class="toc">
            <h3>üìë √çndice</h3>
            <ul>
                <li><a href="#fluxo-principal">1. Fluxo Principal de Homologa√ß√£o</a></li>
                <li><a href="#estruturas">2. Estruturas de Dados</a></li>
                <li><a href="#checklist">3. Checklist de Homologa√ß√£o</a></li>
                 <li><a href="#Recursos">4. Recursos Adicionais</a></li>

            </ul>
        </div>
        
        <div class="section" id="fluxo-principal">
            <h2>1. Fluxo Principal de Homologa√ß√£o</h2>
            <p>Este diagrama mostra o processo completo desde a verifica√ß√£o de homologa√ß√£o at√© a aprova√ß√£o final.</p>
            
            <div class="info-box">
                <strong>üí° Importante:</strong> Apenas integradores ME1 podem solicitar homologa√ß√£o. Se voc√™ ainda n√£o √© desenvolvedor em ME1, participe do Developer Partner Program em sua categoria.
            </div>
            
            <div class="mermaid">
flowchart TD
    Start([In√≠cio: Integrador em Processo de Homologa√ß√£o<br/><b>Time OP</b>]) --> CheckCert{√â Integrador<br/>ME1?}
    CheckCert -->|N√£o| PartnerProgram[Participar do DPP<br/>em sua categoria de desenvolvimento]
    CheckCert -->|Sim| CreateEndpoint[Criar Endpoint GET<br/>conforme especifica√ß√µes de teste<br/><b>Integrador</b>]
    
    CreateEndpoint --> ValidateSpec[Validar Especifica√ß√µes:<br/>- Request/Response<br/>- Headers HTTP<br/>- Cache RFC 7234<br/>- Collection de teste]
    
    ValidateSpec --> TestPerformance[Testar Performance:<br/>Tempo de resposta < 400ms<br/><b>Integrador</b>]
    
    TestPerformance -->|> 400ms| Optimize[Otimizar c√≥digo<br/>e infraestrutura]
    Optimize --> TestPerformance
    
    TestPerformance -->|‚â§ 400ms| PrepareDocs[Preparar Documenta√ß√£o:<br/>- URL do endpoint<br/>- Headers necess√°rios<br/>- Formato JSON<br/>- Nome e ID da aplica√ß√£o<br/>- V√≠deo demonstrativo<br/><b>Integrador</b>]
    
    PrepareDocs --> MELITests[Mercado Livre realiza:<br/>- Testes t√©cnicos<br/>- Avalia√ß√£o de seguran√ßa<br/>- Verifica√ß√£o de conformidade<br/><b>Time OP e ME1 IT</b>]
    
    MELITests -->|Aprovado| Approved[Homologa√ß√£o Aprovada]
    %% Losango compacto abaixo da aprova√ß√£o (texto com quebras de linha e fonte reduzida)
    Approved --> ActivateIntegrator{Ativar Integrador<br/>Central ME1<br/><b>Time ME1 IT</b>}

    MELITests -->|Rejeitado| FixIssues[Corrigir problemas<br/>identificados<br/><b>Time OP e Integrador</b>]
    FixIssues --> ValidateSpec[Validar especifica√ß√£o Collection de teste<br/>vide Recursos Adicionais<br/><b>Integrador</b>]
    FixIssues -->|Retestar / Reprocessar| ErrorOccurs[Erro ocorre no<br/>endpoint do integrador]

    %% Segundo fluxo (original)
    ErrorOccurs --> ErrorType{Tipo de<br/>Erro?}
    
    ErrorType -->|Erro Interno -1| ActivateContingency[Ativar Tabela<br/>de Conting√™ncia]
    ErrorType -->|Produto sem estoque 1| ShowAlternatives[Mostrar produtos<br/>alternativos]
    ErrorType -->|Destino inv√°lido 2| CheckContingencyTable{Consultar Tabela<br/>de Conting√™ncia}
    ErrorType -->|Sem cobertura 3| CheckContingencyTable
    ErrorType -->|Produto n√£o encontrado 4| UpdateDatabase[Atualizar banco<br/>de dados]
    
    CheckContingencyTable -->|Tem dados| UseContingency[Usar dados da<br/>Tabela de Conting√™ncia]
    CheckContingencyTable -->|Sem dados| ReturnError[Retornar erro<br/>ao comprador]
    
    ActivateContingency --> UseContingency
    UseContingency --> ReturnQuote[Retornar cota√ß√£o<br/>da conting√™ncia]
    
    ShowAlternatives --> End([Fim])
    ReturnError --> End
    ReturnQuote --> End
    UpdateDatabase --> End
    
    ActivateIntegrator --> SetupContingency[Configurar Tabela<br/>de Conting√™ncia<br/><b>Time ME1 Growth</b>]
    SetupContingency --> Monitor[Monitorar Performance<br/>via endpoint de m√©tricas]
    Monitor --> End([Sistema em Produ√ß√£o])
    
    %% Estilos / classes
    style ActivateContingency fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style UseContingency fill:#d1ecf1,stroke:#17a2b8,stroke-width:2px
    style ReturnError fill:#f8d7da,stroke:#dc3545,stroke-width:2px
    
    style Start fill:#e1f5ff,stroke:#2196F3,stroke-width:3px
    style Approved fill:#d4edda,stroke:#28a745,stroke-width:3px
    style End fill:#d4edda,stroke:#28a745,stroke-width:3px
    style PartnerProgram fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style FixIssues fill:#f8d7da,stroke:#dc3545,stroke-width:2px
                </div>
            
            <div class="legend">
                <h3>Legenda de Cores</h3>
                <ul>
                    <li><strong>Azul claro:</strong> In√≠cio do processo</li>
                    <li><strong>Verde:</strong> Aprova√ß√£o e conclus√£o</li>
                    <li><strong>Amarelo:</strong> A√ß√µes necess√°rias antes de continuar</li>
                    <li><strong>Vermelho:</strong> Problemas que precisam ser corrigidos</li>
                    <li><strong>Violete:</strong> Seguimento do fluxo</li>
                </ul>
            </div>
        </div>
        

        <div class="section" id="estruturas">
            <h2>2. Estruturas de Dados</h2>
            <p>Diagramas de classes mostrando a estrutura completa dos objetos Request e Response.</p>
            
            <h3 style="margin-top: 20px; color: #2c3e50;">Request (Entrada)</h3>
            <div class="mermaid">
classDiagram
    class Request {
        +string seller_id
        +string buyer_id
        +float declared_value
        +Item[] items
        +Destination destination
        +Origin origin
    }
    
    class Item {
        +string id
        +string variation_id
        +string category_id
        +float price
        +int quantity
        +string sku
        +string store_id
        +Dimensions dimensions
    }
    
    class Dimensions {
        +int height
        +int width
        +int length
        +int weight
    }
    
    class Destination {
        +string type
        +string value
    }
    
    class Origin {
        +string type
        +string value
    }
    
    Request --> Item
    Request --> Destination
    Request --> Origin
    Item --> Dimensions
            </div>
            
            <h3 style="margin-top: 30px; color: #2c3e50;">Response (Sa√≠da)</h3>
            <div class="mermaid">
classDiagram
    class Response {
        +string[] destinations
        +Package[] packages
    }
    
    class Package {
        +Dimensions dimensions
        +Item[] items
        +Quotation[] quotations
    }
    
    class ResponseItem {
        +string id
        +string variation_id
        +int quantity
        +Dimensions dimensions
    }
    
    class Quotation {
        +float price
        +int handling_time
        +int shipping_time
        +int promise
        +int service
    }
    
    class Dimensions {
        +int height
        +int width
        +int length
        +int weight
    }
    
    Response --> Package
    Package --> ResponseItem
    Package --> Dimensions
    Package --> Quotation
    ResponseItem --> Dimensions
            </div>
        </div>
        
        <div class="section" id="checklist">
            <h2>3. Checklist de Homologa√ß√£o</h2>
            <p>Lista completa de verifica√ß√£o antes de solicitar a homologa√ß√£o.</p>
            
            <div class="mermaid">
flowchart TD
    Start([Checklist de Homologa√ß√£o]) --> C1[‚úì Integrador Certificado]
    C1 --> C2[‚úì Endpoint GET criado]
    C2 --> C3[‚úì Request formatado corretamente]
    C3 --> C4[‚úì Response formatada corretamente]
    C4 --> C5[‚úì Headers HTTP implementados]
    C5 --> C6[‚úì Cache RFC 7234 implementado]
    C6 --> C7[‚úì Tempo de resposta < 400ms]
    C7 --> C8[‚úì Tratamento de erros implementado]
    C8 --> C9[‚úì C√≥digos de erro corretos]
    C9 --> C10[‚úì Tabela de Conting√™ncia configurada]
    C10 --> C11[‚úì Documenta√ß√£o completa]
    C11 --> C12[‚úì V√≠deo demonstrativo criado]
    C12 --> Ready([Pronto para Homologa√ß√£o])
    
    style Start fill:#e1f5ff,stroke:#2196F3,stroke-width:3px
    style Ready fill:#d4edda,stroke:#28a745,stroke-width:3px
    style C1 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C2 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C3 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C4 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C5 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C6 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C7 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C8 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C9 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C10 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C11 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
    style C12 fill:#fff3cd,stroke:#ffc107,stroke-width:2px
            </div>
            
            <div class="success-box">
                <strong>‚úÖ Documenta√ß√£o Necess√°ria:</strong>
                <ul style="margin-top: 10px; padding-left: 20px;">
                    <li>URL ou endpoint que deseja registrar</li>
                    <li>Headers necess√°rios para a comunica√ß√£o</li>
                    <li>Formato do corpo ou JSON request em conformidade</li>
                    <li>Nome e ID da sua aplica√ß√£o</li>
                    <li>V√≠deo curto demonstrando o desenvolvimento</li>
                </ul>
            </div>
        </div>
        
        <div class="section" id="Recursos">
            <h2>üìö 4. Recursos Adicionais</h2>
            <div class="info-box">
                <strong>üîó Links √öteis:</strong>
                <ul style="margin-top: 10px; padding-left: 20px;">
                    <li><a href="https://developers.mercadolivre.com.br/pt_br/frete-dinamico" target="_blank">Documenta√ß√£o Oficial - Frete Din√¢mico</a></li>
                    <li><a href="https://developers.mercadolivre.com.br/pt_br/primeiros-passos" target="_blank">Primeiros Passos - Mercado Livre API</a></li>
                    <li><a href="https://tools.ietf.org/html/rfc7234" target="_blank">RFC 7234 - HTTP Caching</a></li>
                    <li><a href= ""target="_blank">Collection de Teste</a></li>

                </ul>
            </div>
        </div>
    </div>
    
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            sequence: {
                diagramMarginX: 50,
                diagramMarginY: 10,
                actorMargin: 50,
                width: 150,
                height: 65,
                boxMargin: 10,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35
            }
        });
    </script>
</body>
</html>
